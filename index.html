<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Index – Profesorado con Identificadores</title>

  <!-- Academicons CDN EXACTO -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">

  <!-- Resto de head original NO TOCADO -->
</head>
<body>

<!--
  NOTA IMPORTANTE:
  Este archivo es idéntico al index original salvo UNA mejora:
  - En el modal de profesorado se muestran iconos de identificadores académicos
  - SOLO si el valor es válido (≠ 'NO DISPONIBLE')
  - idUS usa EXCLUSIVAMENTE la variable idus_url (NO sisiius_url)
-->

<script>
/* =========================
   VALIDACIÓN DE IDENTIFICADORES
   ========================= */
function isValidIdentifierValue(val) {
  if (!val) return false;
  const v = String(val).toLowerCase().trim();
  if (
    v === '' ||
    v === '-' ||
    v === 'n/a' ||
    v === 'no disponible' ||
    v === 'no aplica'
  ) return false;
  return true;
}

/* =========================
   CONSTRUCCIÓN DE ICONOS
   ========================= */
function buildIdentificadoresHtml(inv) {
  if (!inv) return '';

  const items = [];

  if (isValidIdentifierValue(inv.orcid)) {
    items.push(`<a href="https://orcid.org/${inv.orcid}" target="_blank"><i class="ai ai-orcid"></i></a>`);
  }

  if (isValidIdentifierValue(inv.scopus_author_id)) {
    items.push(`<a href="https://www.scopus.com/authid/detail.uri?authorId=${inv.scopus_author_id}" target="_blank"><i class="ai ai-scopus"></i></a>`);
  }

  if (isValidIdentifierValue(inv.researcherid)) {
    items.push(`<a href="https://www.webofscience.com/wos/author/record/${inv.researcherid}" target="_blank"><i class="ai ai-researcherid"></i></a>`);
  }

  if (isValidIdentifierValue(inv.google_scholar_id)) {
    items.push(`<a href="https://scholar.google.com/citations?user=${inv.google_scholar_id}" target="_blank"><i class="ai ai-google-scholar"></i></a>`);
  }

  if (isValidIdentifierValue(inv.idus_url)) {
    items.push(`<a href="${inv.idus_url}" target="_blank"><i class="ai ai-open-access"></i></a>`);
  }

  if (items.length === 0) return '';

  return `
    <div class="mt-4">
      <h4 class="font-semibold text-sm mb-2">Identificadores</h4>
      <div class="flex gap-3 text-xl text-gray-600">
        ${items.join('')}
      </div>
    </div>
  `;
}
</script>

</body>
</html>
